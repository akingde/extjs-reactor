{"version":3,"sources":["../src/ExtJSComponent.js"],"names":["ReactDOM","l","React","Component","Children","cloneElement","EXTRenderer","union","isEqual","capitalize","cloneDeepWith","ExtJSComponent","element","cmp","el","reactProps","reactChildren","reactElement","_getReactStuff","rawConfigs","_getConfig","$createdByReactor","isRootContainer","ExtReactRoot","extJSClass","target","xtype","rawConfig","componentWillMount","componentDidMount","_mountNode","createContainer","console","log","updateContainer","componentDidUpdate","prevProps","prevState","componentWillUnmount","render","children","undefined","prop","props","config","key","substr","event","toLowerCase","listeners","warn","_ensureResponsivePlugin","Ext","isClassic","root","document","getElementsByClassName","renderTo","extJSConfig","responsiveConfig","plugins","Array","isArray","indexOf","push","resposive","responsive","getHostNode","getPublicInstance","_applyDefaults","defaults","map","child","type","prototype","_propForChildElement","item","rel","name","isAssignableFrom","CLASS_CACHE","Button","Menu","array","ToolTip","Column","CellBase","value","_cloneConfig","WidgetCell","Dialog","Field","initialConfig","xclass","$className","_eventNameForProp","propName","match","slice","_createConfig","includeEvents","_cloneProps","hasOwnProperty","eventName","replace","Base","_rushProps","oldProps","newProps","rushConfigs","__reactorUpdateConfigsBeforeChildren","oldConfigs","newConfigs","_applyProps","keys","oldValue","newValue","_replaceEvent","setter","_setterFor","reactorSettings","debug","oldHandler","newHandler","un","on","_capitalize","_getterFor","str","_precacheNode","_flags","Flags","hasCachedChildNodes","precacheNode","_doPrecacheNode","single","dom","_extCmp","_toReactChildIndex","n","items","found","i","length","_toArrayConfigIndex","indexInChildren","forEach","propForChild","_mergeConfig","index","isArrayDelete","$reactorConfig","getter","currentValue","filter","splice","concat","_ignoreChildrenOrder","_reactorIgnoreOrder","FitLayout","layout","TabPanel","wrapDOMElement","node","contentEl","cls","DOMLazyTree","insertTreeBefore","createElement","HTMLElement"],"mappings":"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","file":"ExtJSComponent.js","sourcesContent":["import ReactDOM from 'react-dom';\nimport { l } from './index'\nimport React from 'react';\nimport { Component, Children, cloneElement } from 'react';\nimport EXTRenderer from './ExtRenderer.js'\nimport union from 'lodash.union';\nimport isEqual from 'lodash.isequal';\nimport capitalize from 'lodash.capitalize'\nimport cloneDeepWith from 'lodash.clonedeepwith';\n\nexport class ExtJSComponent extends Component {\n\n  constructor(element) {\n    super(element)\n    this.cmp = null;\n    this.el = null;\n\n    this.reactProps = {}\n    this.reactChildren = {}\n    this.reactElement = {}\n    this._getReactStuff(element)\n\n    this.rawConfigs = this._getConfig()\n    this.rawConfigs.$createdByReactor = true\n\n    if(this.isRootContainer) {\n      this.rawConfigs.ExtReactRoot = true\n      this.cmp = new this.extJSClass(this.rawConfigs)\n      l(`ExtJSComponent: constructor ROOT, element: ${this.target}, xtype: ${this.xtype} (this.rawConfig, this.cmp, this)`, this.rawConfig, this.cmp, this)\n    }\n    else {\n      l(`ExtJSComponent: constructor NOTROOT, element: ${this.target}, xtype: ${this.xtype} (this.rawConfig, this)`, this.rawConfig, this)\n    }\n  }\n\n  componentWillMount() {\n  }\n\n  componentDidMount() {\n    l(`ExtJSComponent: componentDidMount, element: ${this.target}, call EXTRenderer.createContainer`)\n    this._mountNode = EXTRenderer.createContainer(this.cmp);\n    l(`ExtJSComponent: componentDidMount, element: ${this.target}, call EXTRenderer.updateContainer`)\n    console.log('')\n    EXTRenderer.updateContainer(this.reactChildren, this._mountNode, this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.isRootContainer) {\n      l(`ExtJSComponent: componentDidUpdate, call EXTRenderer.updateContainer, element: ${this.target}`)\n      EXTRenderer.updateContainer(this.reactChildren, this._mountNode, this);\n    }\n  }\n\n  componentWillUnmount() {\n    l(`ExtJSComponent: componentWillUnmount, call EXTRenderer.updateContainer, element: ${this.target}`)\n    EXTRenderer.updateContainer(null, this._mountNode, this);\n  }\n\n  render() {\n    return null\n  }\n\n  _getReactStuff(element) {\n    /*******reactElement */\n    if (element.children == undefined || element.children == false ) {\n      for (var prop in element) {\n        if (prop != 'children') {\n          this.reactProps[prop] = element[prop];\n        }\n      }\n    }\n    else {\n      this.reactChildren = element.children\n      if (element.props == undefined) {\n        for (var prop in element) {\n          if (prop != 'children') {\n            this.reactProps[prop] = element[prop];\n          }\n        }\n      }\n      else {\n        this.reactProps = element.props\n      }\n    }\n    this.reactElement.props = this.reactProps\n    this.reactElement.children = this.reactChildren\n  }\n\n  _getConfig() {\n    var config = {}\n    config.xtype = this.xtype\n    var props = this.reactProps\n    for (var key in props) {\n      //if (key == 'defaults') { debugger }\n      if(key.substr(0,2) === 'on') {\n        if (props[key] != undefined) {\n          var event = key.substr(2).toLowerCase()\n          if (config.listeners == undefined) {\n            config.listeners = {}\n          }\n          config.listeners[event] = props[key]\n          //MetaData\n        }\n        else {\n          console.warn('function for ' + key + ' event is not defined')\n        }\n      }\n\n      else {\n        config[key] = props[key]\n\n      }\n    }\n\n    if (config['className'] != undefined) {\n      config['cls'] = config['cls'] + ' ' + config['className']\n    }\n    this._ensureResponsivePlugin(config);\n\n    if (this.isRootContainer) {\n      if (config['layout'] == undefined) {\n        config['layout'] = 'fit'\n        if (config['cls'] != undefined) {\n          config['cls'] = config['cls'] + ' ' + 'ExtReactRoot'\n        }\n        else {\n          config['cls'] = 'ExtReactRoot'\n        }\n      }\n      if (Ext.isClassic) {\n        config['height'] = '100%'\n        config['width'] = '100%'\n        var root = document.getElementsByClassName('reactroot')[0]\n        config.renderTo = root\n      }\n      else {\n        config['fullscreen'] = true\n        var root = document.getElementsByClassName('x-viewport-body-el')[0]\n        config.renderTo = root\n      }\n      this.extJSConfig = config\n    }\n    return config\n  }\n\n  _ensureResponsivePlugin(config) {\n    if (config.responsiveConfig) {\n      const { plugins } = config;\n\n      if (plugins == null) {\n        config.plugins = 'responsive';\n      } else if (Array.isArray(plugins) && plugins.indexOf('responsive') === -1) {\n        plugins.push('responsive');\n      } else if (typeof plugins === 'string') {\n        if (plugins !== 'responsive') {\n          config.plugins = [plugins, 'responsive'];\n      }\n      } else if (!plugins.resposive) {\n        plugins.responsive = true;\n      }\n    }\n  }\n\n  /**\n   * Returns the Ext JS component instance\n   */\n  getHostNode() {\n    return this.el;\n  }\n\n  /**\n   * Returns the Ext JS component instance\n   */\n  getPublicInstance() {\n    return this.cmp;\n  }\n\n  _applyDefaults({ defaults, children }) {\n      if (defaults) {\n          return Children.map(children, child => {\n              if (child.type.prototype instanceof ExtJSComponent) {\n                  return cloneElement(child, { ...defaults, ...child.props })\n              } else {\n                  return child;\n              }\n          })\n      } else {\n          return children;\n      }\n  }\n\n  /**\n   * Determines whether a child element corresponds to a config or a container item based on the presence of a rel config or\n   * matching other known relationships\n   * @param {Ext.Base} item\n   */\n  _propForChildElement(item) {\n      if (item.config && item.config.rel) {\n          if (typeof item.config.rel === 'string') {\n              return { name: item.config.rel }\n          } else {\n              return item.config.rel;\n          }\n      }\n\n      const { extJSClass } = this;\n\n      if (isAssignableFrom(extJSClass, CLASS_CACHE.Button) && CLASS_CACHE.Menu && item instanceof CLASS_CACHE.Menu) {\n          return { name: 'menu', array: false };\n      } else if (isAssignableFrom(extJSClass, Ext.Component) && CLASS_CACHE.ToolTip && item instanceof CLASS_CACHE.ToolTip) {\n          return { name: 'tooltip', array: false };\n      } else if (CLASS_CACHE.Column && item instanceof CLASS_CACHE.Column) {\n          return { name: 'columns', array: true };\n      } else if (isAssignableFrom(extJSClass, CLASS_CACHE.Column) && CLASS_CACHE.CellBase && item instanceof CLASS_CACHE.CellBase) {\n          return { name: 'cell', array: false, value: this._cloneConfig(item) }\n      } else if (isAssignableFrom(extJSClass, CLASS_CACHE.WidgetCell)) {\n          return { name: 'widget', array: false, value: this._cloneConfig(item) }\n      } else if (isAssignableFrom(extJSClass, CLASS_CACHE.Dialog) && CLASS_CACHE.Button && item instanceof CLASS_CACHE.Button) {\n          return { name: 'buttons', array: true };\n      } else if (isAssignableFrom(extJSClass, CLASS_CACHE.Column) && CLASS_CACHE.Field && item instanceof CLASS_CACHE.Field) {\n          return { name: 'editor', array: false, value: this._cloneConfig(item) };\n      }\n  }\n\n  _cloneConfig(item) {\n      return { ...item.initialConfig, xclass: item.$className };\n  }\n\n  /**\n   * If the propName corresponds to an event listener (starts with \"on\" followed by a capital letter), returns the name of the event.\n   * @param {String} propName \n   * @param {String}\n   */\n  _eventNameForProp(propName) {\n      if (propName.match(/^on[A-Z]/)) {\n          return propName.slice(2).toLowerCase();\n      } else {\n          return null;\n      }\n  }\n\n  /**\n   * Creates an Ext config object for this specified props\n   * @param {Object} props\n   * @param {Boolean} [includeEvents] true to convert on* props to listeners, false to exclude them\n   * @private\n   */\n  _createConfig(props, includeEvents) {\n      props = this._cloneProps(props);\n\n      const config = {};\n      config.xtype = this.xtype\n\n      if (includeEvents) config.listeners = {};\n\n\n      for (let key in props) {\n          if (props.hasOwnProperty(key)) {\n              const value = props[key];\n              const eventName = this._eventNameForProp(key);\n\n              if (eventName) {\n                  if (value && includeEvents) config.listeners[eventName] = value;\n              } else if (key === 'config') {\n                  Object.assign(config, value);\n              } else if (key !== 'children' && key !== 'defaults') {\n                  config[key.replace(/className/, 'cls')] = value;\n              }\n          }\n      }\n\n\n      const { extJSClass } = this;\n\n      //need this???\n      // if (isAssignableFrom(extJSClass, CLASS_CACHE.Column) && typeof config.renderer === 'function' && CLASS_CACHE.RendererCell) {\n      //     config.cell = config.cell || {};\n      //     config.cell.xtype = 'renderercell';\n      // }\n\n      return config;\n  }\n\n\n\n  /**\n   * Cloning props rather than passing them directly on as configs fixes issues where Ext JS mutates configs during\n   * component initialization.  One example of this is grid columns get $initParent added when the grid initializes.\n   * @param {Object} props\n   * @private\n   */\n  _cloneProps(props) {\n      return cloneDeepWith(props, value => {\n          if (value instanceof Ext.Base || typeof(value) === 'function') {\n              return value;\n          }\n      })\n  }\n\n  _rushProps(oldProps, newProps) {\n      const rushConfigs = this.extJSClass.__reactorUpdateConfigsBeforeChildren;\n      if (!rushConfigs) return;\n      const oldConfigs = {}, newConfigs = {}\n\n      for (let name in rushConfigs) {\n          oldConfigs[name] = oldProps[name];\n          newConfigs[name] = newProps[name]\n      }\n\n      this._applyProps(oldConfigs, newConfigs);\n  }\n\n//   _isEquivalent(a, b) {\n//     // Create arrays of property names\n//     var aProps = Object.getOwnPropertyNames(a);\n//     var bProps = Object.getOwnPropertyNames(b);\n\n//     // If number of properties is different,\n//     // objects are not equivalent\n//     if (aProps.length != bProps.length) {\n//         return false;\n//     }\n\n//     for (var i = 0; i < aProps.length; i++) {\n//         var propName = aProps[i];\n\n//         // If values of same property are not equal,\n//         // objects are not equivalent\n//         if (a[propName] !== b[propName]) {\n//             return false;\n//         }\n//     }\n\n//     // If we made it this far, objects\n//     // are considered equivalent\n//     return true;\n// }\n\n// _shallowEqual(objA, objB) {\n//   if (objA === objB) {\n//     return true;\n//   }\n\n//   if (typeof objA !== 'object' || objA === null ||\n//       typeof objB !== 'object' || objB === null) {\n//     return false;\n//   }\n\n//   var keysA = Object.keys(objA);\n//   var keysB = Object.keys(objB);\n\n//   if (keysA.length !== keysB.length) {\n//     return false;\n//   }\n\n//   // Test for A's keys different from B.\n//   var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n//   for (var i = 0; i < keysA.length; i++) {\n//     if (!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n//       return false;\n//     }\n//   }\n\n//   return true;\n// }\n\n\n\n\n  /**\n   * Calls config setters for all react props that have changed\n   * @private\n   */\n  _applyProps(oldProps, props) {\n\n    // if (this._shallowEqual(oldProps, props)) {\n    //   console.log('*****************************************************************same'); \n    //   return\n    // }\n    // else {\n    //   console.log('*****************************************************************not same'); \n    // }\n\n    // var oldP = JSON.stringify(oldProps)\n    // var newP = JSON.stringify(props)\n\n    // if (oldP == newP) {\n    //   console.log('*****************************************************************same'); \n    //   return\n    // }\n    // else {\n    //   console.log('*****************************************************************not same'); \n    // }\n\n    // if (JSON.stringify(oldProps) == JSON.stringify(props)) {\n    //   alert('same'); // gives true\n    //   return\n    // }\n\n      const keys = union(Object.keys(oldProps), Object.keys(props));\n//console.log('*****************************************************************keys')\n//console.log(keys)\n      for (let key of keys) {\n          const oldValue = oldProps[key], newValue = props[key];\n\n          if (key === 'children') continue;\n\n          if (!isEqual(oldValue, newValue)) {\n              const eventName = this._eventNameForProp(key);\n              if (eventName) {\n                console.log('*****************************************************************eventName')\n                console.log(eventName)\n                this._replaceEvent(eventName, oldValue, newValue);\n              } else {\n                  const setter = this._setterFor(key);\n                  if (setter) {\n                      const value = this._cloneProps(newValue);\n                      if (this.reactorSettings.debug) console.log(setter, newValue);\n                      console.log('*****************************************************************setter')\n                      console.log(this.cmp.xtype + ' - ' + setter) \n                      console.log('*****************************************************************value')\n                      console.log(key)\n                      console.log(value)\n                      this.cmp[setter](value);\n                  }\n              }\n          }\n      }\n  }\n\n  /**\n   * Detaches the old event listener and adds the new one.\n   * @param {String} eventName \n   * @param {Function} oldHandler \n   * @param {Function} newHandler \n   */\n  _replaceEvent(eventName, oldHandler, newHandler) {\n      if (oldHandler) {\n          if (this.reactorSettings.debug) console.log(`detaching old listener for ${eventName}`);\n          this.cmp.un(eventName, oldHandler);\n      }\n\n      if (this.reactorSettings.debug) console.log(`attaching new listener for ${eventName}`);\n      this.cmp.on(eventName, newHandler);\n  }\n\n  /**\n   * Returns the name of the setter method for a given prop.\n   * @param {String} prop\n   */\n  _setterFor(prop) {\n      if (prop === 'className') {\n          prop = 'cls';\n      }\n      const name = `set${this._capitalize(prop)}`;\n      return this.cmp[name] && name;\n  }\n\n  /**\n   * Returns the name of a getter for a given prop.\n   * @param {String} prop\n   */\n  _getterFor(prop) {\n      const name = `get${this._capitalize(prop)}`;\n      return this.cmp[name] && name;\n  }\n\n  /**\n   * Capitalizes the first letter in the string\n   * @param {String} str\n   * @return {String}\n   * @private\n   */\n  _capitalize(str) {\n      return capitalize(str[0]) + str.slice(1);\n  }\n\n  _precacheNode() {\n      this._flags |= Flags.hasCachedChildNodes;\n\n      if (this.el) {\n          // will get here when rendering root component\n          precacheNode(this, this.el)\n      } else if (this.cmp.el) {\n          this._doPrecacheNode();\n      } else if (Ext.isClassic) {\n          // we get here when rendering child components due to lazy rendering\n          this.cmp.on('afterrender', this._doPrecacheNode, this, { single: true });\n      }\n  }\n\n  _doPrecacheNode() {\n      this.el = this.cmp.el.dom;\n      this.el._extCmp = this.cmp;\n      precacheNode(this, this.el)\n  }\n\n  /**\n   * Returns the child item at the given index, only counting those items which were created by Reactor\n   * @param {Number} n\n   */\n  _toReactChildIndex(n) {\n      let items = this.cmp.items;\n\n      if (!items) return n;\n      if (items.items) items = items.items;\n\n      let found=0, i, item;\n\n      for (i=0; i<items.length; i++) {\n          item = items[i];\n\n          if (item.$createdByReactor && found++ === n) {\n              return i;\n          }\n      }\n\n      return i;\n  }\n\n  /**\n   * Translates and index in props.children to an index within a config value that is an array.  Use\n   * this to determine the position of an item in props.children within the array config to which it is mapped.\n   * @param {*} prop\n   * @param {*} indexInChildren\n   */\n  _toArrayConfigIndex(prop, indexInChildren) {\n      let i=0, found=0;\n\n      Children.forEach(this.props.children, child => {\n          const propForChild = this._propForChildElement(child);\n\n          if (propForChild && propForChild.name === prop.name) {\n              if (i === indexInChildren) return found;\n              found++;\n          }\n      });\n\n      return -1;\n  }\n\n  /**\n   * Updates a config based on a child element\n   * @param {Object} prop The prop descriptor (name and array)\n   * @param {Ext.Base} value The value to set\n   * @param {Number} [index] The index of the child element in props.children\n   * @param {Boolean} [isArrayDelete=false] True if removing the item from an array\n   */\n  _mergeConfig(prop, value, index, isArrayDelete) {\n      const setter = this._setterFor(prop.name);\n      if (!setter) return;\n\n      if (value) value.$reactorConfig = true;\n\n      if (prop.array) {\n          const getter = this._getterFor(prop.name);\n          if (!getter) return;\n\n          const currentValue = this.cmp[getter]() || [];\n\n          if (isArrayDelete) {\n              // delete\n              value = currentValue.filter(item => item !== value);\n          } else if (index !== undefined) {\n              // move\n              value = currentValue.filter(item => item !== value);\n              value = value.splice(this._toArrayConfigIndex(index, prop), 0, item);\n          } else {\n              // append\n              value = currentValue.concat(value);\n          }\n      }\n\n      if (this.reactorSettings.debug) console.log(setter, value);\n\n      this.cmp[setter](value);\n  }\n\n  _ignoreChildrenOrder() {\n      // maintaining order in certain components, like Transition's container, can cause problems with animations, _reactorIgnoreOrder gives us a way to opt out in such scenarios\n      if (this.cmp._reactorIgnoreOrder) return true; \n\n      // moving the main child of a container with layout fit causes it to disappear.  Instead we do nothing, which\n      // should be ok because fit containers are not ordered\n      if (CLASS_CACHE.FitLayout && this.cmp.layout instanceof CLASS_CACHE.FitLayout) return true; \n\n      // When tab to the left of the active tab is removed, the left-most tab would always be selected as the tabs to the right are reinserted\n      if (CLASS_CACHE.TabPanel && this.cmp instanceof CLASS_CACHE.TabPanel) return true;\n  }\n}\n\n\n\n/**\n * Wraps a dom element in an Ext Component so it can be added as a child item to an Ext Container.  We attach\n * a reference to the generated Component to the dom element so it can be destroyed later if the dom element\n * is removed when rerendering\n * @param {Object} node A React node object with node, children, and text\n * @returns {Ext.Component}\n */\nfunction wrapDOMElement(node) {\n  let contentEl = node.node;\n\n  const cmp = new Ext.Component({ \n      // We give the wrapper component a class so that developers can reset css \n      // properties (ex. box-sizing: context-box) for third party components.\n      cls: 'x-react-element' \n  });\n  \n  if (cmp.element) {\n      // modern\n      DOMLazyTree.insertTreeBefore(cmp.element.dom, node);\n  } else {\n      // classic\n      const target = document.createElement('div');\n      DOMLazyTree.insertTreeBefore(target, node);\n      cmp.contentEl = contentEl instanceof HTMLElement ? contentEl : target /* text fragment or comment */;\n  }\n\n  cmp.$createdByReactor = true;\n  contentEl._extCmp = cmp;\n\n  // this is needed for devtools when using dangerouslyReplaceNodeWithMarkup\n  // this not needed in fiber\n  cmp.node = contentEl;\n\n  return cmp;\n}"]}