{"version":3,"sources":["../../src/debug/reactify.js"],"names":["l","ExtJSComponent","settings","configure","reactorSettings","getTheClass","isRootContainer","xtype","target","extJSClass","Ext","ClassManager","getByAlias","Error","reactify2","toLowerCase","replace","reactifiedClass","reactify","numRoots","substr","className"],"mappings":";;;;AAAA,SAASA,CAAT,QAAkB,SAAlB;AACA,SAASC,cAAT,QAA+B,kBAA/B;;AAGA;AACA,OAAO,IAAIC,WAAW,EAAf;AACP;;;;AAIA,OAAO,SAASC,SAAT,CAAmBC,eAAnB,EAAoC;AACzC;AACAF,aAAWE,eAAX;AACD;;AAED,SAASC,WAAT,CAAqBC,eAArB,EAAsCC,KAAtC,EAA6CC,MAA7C,EAAqD;AACnD;AACA;AACA,MAAIC,aAAaC,IAAIC,YAAJ,CAAiBC,UAAjB,aAAsCL,KAAtC,CAAjB;AACA,MAAI,CAACE,UAAL,EAAiB,MAAM,IAAII,KAAJ,sCAA6CN,KAA7C,kDAAN;;AAEjB;AACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AACE;AADF,0BAEwB;AAAC,eAAOD,eAAP;AAAuB;AAFhD;AAAA;AAAA,0BAGmB;AAAC,eAAOG,UAAP;AAAkB;AAHtC;AAAA;AAAA,0BAIwB;AAAE,eAAOP,QAAP;AAAiB;AAJ3C;AAAA;AAAA,0BAKc;AAAC,eAAOK,KAAP;AAAa;AAL5B;AAAA;AAAA,0BAMe;AAAC,eAAOC,MAAP;AAAc,OAN9B,CAM+B;AAChC;;AAPC;;AAAA;AAAA,IAAqBP,cAArB;AASD;;AAED;AACA,OAAO,SAASa,SAAT,CAAmBN,MAAnB,EAA2B;AAChC;AACA,MAAMD,QAAQC,OAAOO,WAAP,GAAqBC,OAArB,CAA6B,IAA7B,EAAmC,GAAnC,CAAd;AACAhB,mBAAeO,KAAf;AACA,MAAIU,kBAAkBZ,YAAY,KAAZ,EAAmBE,KAAnB,EAA0BC,MAA1B,CAAtB;AACA,SAAOS,eAAP;AACD;;AAED,OAAO,SAASC,QAAT,CAAkBV,MAAlB,EAA0B;AAC/B;AACA,MAAI,OAAOU,SAASC,QAAhB,IAA4B,WAAhC,EAA8C;AAC5CD,aAASC,QAAT,GAAoB,CAApB;AACD;AACD,MAAID,SAASC,QAAT,GAAoB,CAAxB,EAA2B;AACzB,UAASX,MAAT;AACD;AACD,MAAI,OAAOA,MAAP,KAAmB,UAAvB,EAAmC;AACjC;AACA;AACAR,MAAE,2BAA2BQ,OAAOD,KAApC;AACA,WAAOC,OAAOD,KAAd;AACD,GALD,MAMK,IAAIC,WAAW,UAAf,EAA2B;AAC9BU,aAASC,QAAT;AACAnB,MAAE,6CAAF;AACA,QAAMO,QAAQ,WAAd;AACA,QAAIU,kBAAkBZ,YAAY,IAAZ,EAAkBE,KAAlB,EAAyBC,MAAzB,CAAtB;AACA,WAAOS,eAAP;AACD,GANI,MAOA,IAAIT,OAAOY,MAAP,CAAc,CAAd,EAAgB,CAAhB,MAAuB,MAA3B,EAAmC;AACtCF,aAASC,QAAT;AACAnB,MAAE,gBAAgBQ,MAAhB,GAAyB,0BAA3B;AACA,QAAIa,YAAYb,OAAOY,MAAP,CAAc,CAAd,CAAhB;AACA,QAAMb,SAAQc,UAAUN,WAAV,GAAwBC,OAAxB,CAAgC,IAAhC,EAAsC,GAAtC,CAAd;AACA,QAAIC,kBAAkBZ,YAAY,IAAZ,EAAkBE,MAAlB,EAAyBC,MAAzB,CAAtB;AACA,WAAOS,eAAP;AACD,GAPI,MAQA;AACHjB,MAAE,gBAAgBQ,MAAlB;AACA,WAAOA,MAAP;AACD;AACF","file":"reactify.js","sourcesContent":["import { l } from './index'\nimport { ExtJSComponent } from './ExtJSComponent';\n\n\n// global reactor settings\nexport var settings = {};\n/**\n * Store reactor settings from launch\n * @param {Object} reactorSettings \n */\nexport function configure(reactorSettings) {\n  debugger;\n  settings = reactorSettings;\n}\n\nfunction getTheClass(isRootContainer, xtype, target) {\n  debugger;\n  //clean up xtype stuff (have a method instead of a property) - reactorsettings does it correctly\n  var extJSClass = Ext.ClassManager.getByAlias(`widget.${xtype}`);\n  if (!extJSClass) throw new Error(`No Ext JS component with xtype \"${xtype}\" found.  Perhaps you're missing a package?`);\n\n  //what is target used for?? or, does it have 1 meaning here and another in ExtJSComponent.js?\n  return class extends ExtJSComponent {\n    //static get source() {return 'ExtJS'}\n    get isRootContainer() {return isRootContainer}\n    get extJSClass() {return extJSClass}\n    get reactorSettings() { return settings }\n    get xtype() {return xtype}\n    get target() {return target} //original element passed from jsx\n //   constructor(props) { super(props) }\n  }\n}\n\n//merge this into reactify\nexport function reactify2(target) {\n  debugger;\n  const xtype = target.toLowerCase().replace(/_/g, '-')\n  l(`reactify2 ${xtype}`)\n  var reactifiedClass = getTheClass(false, xtype, target)\n  return reactifiedClass\n}\n\nexport function reactify(target) {\n  debugger;\n  if( typeof reactify.numRoots == 'undefined' ) {\n    reactify.numRoots = 0;\n  }\n  if (reactify.numRoots > 1) {\n    throw `${target} More than 1 root import defined (either ExtReact, RootContainer or RootPanel)`\n  }\n  if (typeof(target) === 'function') {\n    //check to make sure this is an Ext JS define\n    //this is a custom ExtJS class (like worldmap), it has to have an xtype to work\n    l('target is a function: ' + target.xtype)\n    return target.xtype\n  }\n  else if (target === 'ExtReact') {\n    reactify.numRoots++\n    l('target is: ExtReact, return reactifiedClass')\n    const xtype = 'container'\n    var reactifiedClass = getTheClass(true, xtype, target)\n    return reactifiedClass\n  }\n  else if (target.substr(0,4) === 'Root') {\n    reactify.numRoots++\n    l('target is: ' + target + ', return reactifiedClass')\n    var className = target.substr(4)\n    const xtype = className.toLowerCase().replace(/_/g, '-')\n    var reactifiedClass = getTheClass(true, xtype, target)\n    return reactifiedClass\n  }\n  else {\n    l('target is: ' + target)\n    return target\n  }\n}\n"]}